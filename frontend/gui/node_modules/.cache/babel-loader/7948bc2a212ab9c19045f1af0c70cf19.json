{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gmldu\\\\Desktop\\\\BBH\\\\frontend\\\\gui\\\\src\\\\components\\\\Poststable.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Table, Button } from 'semantic-ui-react';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport { Icon } from 'semantic-ui-react';\nimport './Place.css';\n\nclass Poststable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: null,\n      persons: [],\n      reversed_persons: [],\n      activePage: 1,\n      start: 0,\n      end: 10,\n      detailcalled: false\n    };\n  }\n\n  onHandleUp() {\n    const _this$state = this.state,\n          start = _this$state.start,\n          end = _this$state.end,\n          activePage = _this$state.activePage;\n\n    if (end < this.state.persons.length / 10 * 10) {\n      this.setState({\n        start: start + 10,\n        end: end + 10,\n        activePage: activePage + 1\n      });\n    }\n  }\n\n  onHandleDown() {\n    const _this$state2 = this.state,\n          start = _this$state2.start,\n          end = _this$state2.end,\n          activePage = _this$state2.activePage;\n    if (start === 0) return;\n    this.setState({\n      start: start - 10,\n      end: end - 10,\n      activePage: activePage - 1\n    });\n  }\n\n  async componentDidMount() {\n    if (this.props.boardnum === 1) {\n      axios.get('http://127.0.0.1:8000/api').then(res => {\n        const p = res.data;\n        this.setState({\n          persons: p\n        });\n        const v = this.state.persons.reverse();\n        this.setState({\n          persons: v\n        });\n      });\n    } else {\n      axios.get('http://127.0.0.1:8000/api'.concat(this.props.boardnum)).then(res => {\n        const p = res.data;\n        this.setState({\n          persons: p\n        });\n        const v = this.state.persons.reverse();\n        this.setState({\n          persons: v\n        });\n      });\n    }\n  }\n\n  render() {\n    const array = this.state.persons.slice(this.state.start, this.state.end);\n    const listtable = array.map(a => React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      width: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      onClick: function (e) {\n        e.preventDefault();\n        this.setState({\n          detailcalled: true,\n          id: a.id\n        });\n      }.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, a.title)), React.createElement(Table.Cell, {\n      width: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(Table.Cell, {\n      collapsing: \"true\",\n      textAlign: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, a.date)));\n    return React.createElement(\"div\", {\n      className: \"place1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.detailcalled === true && React.createElement(Redirect, {\n      to: {\n        pathname: '/detail',\n        state: {\n          id: this.state.id,\n          boardnum: this.props.boardnum\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"tableplace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Table, {\n      celled: true,\n      striped: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      colSpan: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\uAE00 \\uBAA9\\uB85D\"))), React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, listtable))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: function () {\n        this.onHandleDown();\n      }.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"chevron left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: function () {\n        this.onHandleUp();\n      }.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"chevron right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Poststable;","map":{"version":3,"sources":["C:\\Users\\gmldu\\Desktop\\BBH\\frontend\\gui\\src\\components\\Poststable.js"],"names":["React","Component","axios","Table","Button","NavLink","Redirect","Icon","Poststable","state","id","persons","reversed_persons","activePage","start","end","detailcalled","onHandleUp","length","setState","onHandleDown","componentDidMount","props","boardnum","get","then","res","p","data","v","reverse","concat","render","array","slice","listtable","map","a","e","preventDefault","bind","title","date","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Table, Button } from 'semantic-ui-react';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { Icon } from 'semantic-ui-react';\r\nimport './Place.css';\r\nclass Poststable extends Component{\r\n    \r\n    state = {\r\n        id:null,\r\n        persons: [],\r\n        reversed_persons:[],\r\n        activePage:1,\r\n        start:0,\r\n        end:10,\r\n        detailcalled:false\r\n    }\r\n    \r\n    onHandleUp(){\r\n        const {start,end,activePage}=this.state;\r\n        if (end < this.state.persons.length/10*10) {\r\n            this.setState({\r\n                start:start+10,\r\n                end:end+10,\r\n                activePage:activePage+1\r\n            });\r\n        }\r\n    }\r\n\r\n    onHandleDown(){\r\n        const {start,end,activePage}=this.state;\r\n        if(start===0) return;\r\n        this.setState({\r\n            start:start-10,\r\n            end:end-10,\r\n            activePage:activePage-1\r\n        });\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if (this.props.boardnum === 1){\r\n            axios.get('http://127.0.0.1:8000/api')\r\n            .then(res => {\r\n                const p = res.data;\r\n                this.setState({ persons:p });\r\n                const v=this.state.persons.reverse();\r\n                this.setState({\r\n                    persons:v\r\n                });\r\n            });\r\n        }else {\r\n            axios.get('http://127.0.0.1:8000/api'.concat(this.props.boardnum))\r\n            .then(res => {\r\n                const p = res.data;\r\n                this.setState({ persons:p });\r\n                const v=this.state.persons.reverse();\r\n                this.setState({\r\n                    persons:v\r\n                });\r\n            });\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const array=this.state.persons.slice(this.state.start,this.state.end);\r\n        const listtable = array.map( (a) => \r\n            (\r\n                <Table.Row >\r\n                    <Table.Cell width='10'>\r\n                        <NavLink onClick={function(e){\r\n                            e.preventDefault();\r\n                            this.setState({\r\n                                detailcalled:true,\r\n                                id:a.id\r\n                            });\r\n                            }.bind(this)} >\r\n                            {a.title}\r\n                        </NavLink>\r\n                    </Table.Cell>\r\n                    <Table.Cell width='10'>\r\n                        \r\n                    </Table.Cell>\r\n                    <Table.Cell  collapsing='true' textAlign='middle'>\r\n                        {a.date}\r\n                    </Table.Cell>\r\n                </Table.Row>\r\n            )\r\n        );\r\n        return(\r\n            <div className=\"place1\">\r\n                {\r\n                    this.state.detailcalled===true && \r\n                    <Redirect to={{\r\n                        pathname: '/detail',\r\n                        state: { \r\n                            id: this.state.id,\r\n                            boardnum: this.props.boardnum\r\n                        }\r\n                    }}\r\n                    />\r\n                }\r\n\r\n                <div className=\"tableplace\">\r\n                    <Table celled striped >\r\n                        <Table.Header>\r\n                        <Table.Row >\r\n                            <Table.HeaderCell colSpan='5'>글 목록</Table.HeaderCell>\r\n                        </Table.Row>\r\n                        </Table.Header>\r\n\r\n                        <Table.Body>\r\n                            {listtable}\r\n                        </Table.Body>\r\n                    </Table>\r\n                </div>\r\n                <div >\r\n                    <Button onClick={function() {\r\n                        this.onHandleDown()\r\n                    }.bind(this)}>\r\n                        <Icon name='chevron left' />\r\n                    </Button>\r\n                    <Button onClick={function() {\r\n                        this.onHandleUp()\r\n                    }.bind(this)}>\r\n                        <Icon name='chevron right' />\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Poststable;"]},"metadata":{},"sourceType":"module"}